# Ruby On Rails

### Overview

> This repo is used for all learning materials I will be following for learning the fundamentals of Ruby on Rails.

### Rails for Ruby

* Rails is a framework for Ruby based backend

```gem install rails```

> Rails 7 provides import maps allowing use of JS modules directly from browser. 

* Although this is the case it is best to use Yarn as some files may need to be compiled or bundled.

* Yarn is another package manager - like npm or bundler.

> Installed yarn globally in past. run: ```yarn -v``` to check version.


* Creating a rails app from chosen directory: ```rails new rails_app```

* running a rails app: ```rails server``` or ```rails s```

> IMPORTANT - Rails will automatically include a git repo (This is great!) However if you're working from a repo that already has a git repo this will mean the new repo would be classed as a submodule. use```rm -fr .git``` from new project to remove git repo.

> !!!! After generating any scaffolds run ```rails db:migrate``` to update database schemas. !!!!

> rails console can be used by running ```rails c``` - Allows instantiating classes in an IRB ENV

### Generating scaffolds:

Pages: 
> ```rails g controller pages home about``` 



>  !!! ```rails g scaffold``` !!!

> running the above command followed by ```<OBJECT NAME>``` will generate:
* An ```<OBJECT NAME>```Controller
* An ```<OBJECT NAME>``` model
* An ```resources :<OBJECT NAME>``` added to the routes.rb file
* A set of view files in the views folder
* A set of testing files for ```<OBJECT NAME>```

> ```rails d scaffold <OBJECT NAME>``` : will destory all files just scaffolded.

> By default all models come with timestamps. adding extra fields looks as below:

```rails g scaffold books title:string publication_year:integer```



### Routing:

> ```rails routes``` shows all current routes for application.

> ```resources:example``` within the routes.rb file will generate all 7 default REST api routes for 'example'

> Can use : ```resources :posts, only: [:index, :show]``` or ```resources :users, except: [:index]``` to specify specfic routes for certain models. 

> ```get '/somepath', to: 'somecontroller#someaction'``` specifies a custom path (non-RESTful)

### Controllers:

> 



### View files and Routing:

> ```yield``` tags at the bottom of the selected layout html.erb files is similar to ```Outlet``` in react. 

> The layout files are similar to the index.html or entry point in a react file. These files are what the page files are rendered inside of (replace yield)

> If you have go to the ```PagesController``` you will notice the home action is an empty function. This means no logic is being passed to our view file, its simply rendered the ```home``` view within the ```pages``` folder in the ```view``` file

##### Routing:

> Running ```rails routes``` from CL shows all active routes for application. Refer top to bottom (Bottom routes are auto generated by rails.)

> nested routes use a # instead of /

> To define new routes in app/config/routes.rb: ```get 'about', to: 'pages#about'``` - This defines a new GET route for @ ```/about``` which will pass through the ```PagesController``` and render the 'about.html.erb' ```view``` file

> After initializing a rails app. Go to routes.rb within the app/config file. The final line commented out defines the root path. !!! AKA '/' AKA 'Home' !!!

> Setting the root as ```pages#home``` sets our rooting to go through the ```PagesController``` and find the ```home``` action

> In view files we can still use anchor tags to redirect to certain routes but using ERB's link_to approach is much better as it prevents having to write long url's and also means if we change the url destination in our routes.rb file the route itself remains the same meaning we don't have to alter multiple a tags in multiple routes:
```<%= link_to "This about is using ERB's path", about_path %>``` - The first string before the coma is what the A tag appears as the second is the route path.




### Optional extras/gem files:

> Devise - used for authentication: ```rails generate devise:insta``` - Follow added instructions in terminal on install.

> Using devise to generate 

> initializing rails app with tailwind or bootstrap from start:```rails new --css <APP NAME> --css tailwind```